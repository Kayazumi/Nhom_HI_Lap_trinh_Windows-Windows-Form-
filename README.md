# ğŸ“š á»¨ng Dá»¥ng Quáº£n LÃ½ ThÆ° Viá»‡n

> Há»‡ thá»‘ng quáº£n lÃ½ thÆ° viá»‡n desktop Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng C# WinForms, há»— trá»£ quáº£n lÃ½ mÆ°á»£n/tráº£ sÃ¡ch, báº¡n Ä‘á»c, vÃ  bÃ¡o cÃ¡o thá»‘ng kÃª vá»›i xÃ¡c thá»±c OTP qua email.

## ğŸ“‹ Tá»•ng Quan

á»¨ng dá»¥ng Quáº£n LÃ½ ThÆ° Viá»‡n lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ thÆ° viá»‡n ná»™i bá»™ Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng **Windows Forms** vÃ  **.NET Framework 4.8**. Há»‡ thá»‘ng há»— trá»£ quáº£n lÃ½ toÃ n diá»‡n cÃ¡c hoáº¡t Ä‘á»™ng cá»§a thÆ° viá»‡n bao gá»“m quáº£n lÃ½ sÃ¡ch, báº¡n Ä‘á»c, mÆ°á»£n/tráº£ sÃ¡ch, vÃ  bÃ¡o cÃ¡o thá»‘ng kÃª.

### âœ¨ TÃ­nh NÄƒng ChÃ­nh

#### ğŸ” XÃ¡c Thá»±c & PhÃ¢n Quyá»n
- ÄÄƒng kÃ½ tÃ i khoáº£n vá»›i xÃ¡c thá»±c OTP qua email
- ÄÄƒng nháº­p báº±ng tÃªn Ä‘Äƒng nháº­p hoáº·c email
- PhÃ¢n quyá»n Admin/User rÃµ rÃ ng
- QuÃªn máº­t kháº©u vÃ  reset qua OTP
- KhÃ³a/má»Ÿ khÃ³a tÃ i khoáº£n

#### ğŸ“– Quáº£n LÃ½ Danh Má»¥c
- **Quáº£n lÃ½ SÃ¡ch**: ThÃªm, sá»­a, xÃ³a, tÃ¬m kiáº¿m Ä‘a tiÃªu chÃ­
- **Quáº£n lÃ½ TÃ¡c giáº£**: CRUD Ä‘áº§y Ä‘á»§, tá»± Ä‘á»™ng cáº­p nháº­t sá»‘ lÆ°á»£ng sÃ¡ch
- **Quáº£n lÃ½ Thá»ƒ loáº¡i**: CRUD Ä‘áº§y Ä‘á»§, tá»± Ä‘á»™ng cáº­p nháº­t sá»‘ lÆ°á»£ng sÃ¡ch
- **Quáº£n lÃ½ NhÃ  xuáº¥t báº£n**: CRUD Ä‘áº§y Ä‘á»§, tá»± Ä‘á»™ng cáº­p nháº­t sá»‘ lÆ°á»£ng sÃ¡ch

#### ğŸ‘¥ Quáº£n LÃ½ Báº¡n Äá»c
- Táº¡o tÃ i khoáº£n báº¡n Ä‘á»c má»›i vá»›i máº­t kháº©u tá»± Ä‘á»™ng
- Sá»­a thÃ´ng tin báº¡n Ä‘á»c
- Reset máº­t kháº©u vÃ  gá»­i qua email
- TÃ¬m kiáº¿m báº¡n Ä‘á»c theo MÃ£/TÃªn/Email

#### ğŸ“ Quy TrÃ¬nh MÆ°á»£n/Tráº£ SÃ¡ch
- **ÄÄƒng kÃ½ mÆ°á»£n**: Báº¡n Ä‘á»c Ä‘Äƒng kÃ½ mÆ°á»£n sÃ¡ch (tá»‘i Ä‘a 10 cuá»‘n)
- **XÃ¡c nháº­n cho mÆ°á»£n**: Admin xÃ¡c nháº­n vÃ  cho mÆ°á»£n sÃ¡ch
- **Cho mÆ°á»£n trá»±c tiáº¿p**: Admin cÃ³ thá»ƒ cho mÆ°á»£n sÃ¡ch khÃ´ng qua Ä‘Äƒng kÃ½
- **Gia háº¡n**: Gia háº¡n thá»i háº¡n mÆ°á»£n sÃ¡ch
- **Tráº£ sÃ¡ch**: Xá»­ lÃ½ tráº£ sÃ¡ch vÃ  tÃ­nh tiá»n pháº¡t tá»± Ä‘á»™ng (1000 VNÄ/ngÃ y quÃ¡ háº¡n)
- **Lá»‹ch sá»­ mÆ°á»£n**: Xem lá»‹ch sá»­ mÆ°á»£n sÃ¡ch cá»§a báº¡n Ä‘á»c

#### ğŸ“Š BÃ¡o CÃ¡o & Thá»‘ng KÃª
- BÃ¡o cÃ¡o sá»‘ lÆ°á»£ng sÃ¡ch theo thá»ƒ loáº¡i
- BÃ¡o cÃ¡o tá»· lá»‡ sÃ¡ch theo thá»ƒ loáº¡i
- HÃ³a Ä‘Æ¡n pháº¡t
- Biá»ƒu Ä‘á»“ cá»™t vÃ  biá»ƒu Ä‘á»“ trÃ²n trá»±c quan
- Export bÃ¡o cÃ¡o ra PDF, Excel, Word

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Framework & NgÃ´n Ngá»¯
- **.NET Framework 4.8**
- **C#** (Windows Forms)
- **Entity Framework 6.5.1** (Database First)

### ThÆ° Viá»‡n UI
- **MetroFramework 1.4.0.0** - Giao diá»‡n Metro hiá»‡n Ä‘áº¡i
- **FontAwesome.Sharp 6.6.0** - Icon vector Ä‘áº¹p máº¯t

### BÃ¡o CÃ¡o & Biá»ƒu Äá»“
- **Microsoft ReportViewer 15.0** - Hiá»ƒn thá»‹ bÃ¡o cÃ¡o
- **System.Windows.Forms.DataVisualization.Charting** - Váº½ biá»ƒu Ä‘á»“

### CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u
- **SQL Server** (LocalDB hoáº·c SQL Server Express/Standard)
- **Database**: `QLTV`

### Email
- **SMTP Gmail** - Gá»­i OTP vÃ  thÃ´ng bÃ¡o qua email

## ğŸ“¦ YÃªu Cáº§u Há»‡ Thá»‘ng

### Pháº§n Má»m
- **Windows 7** trá»Ÿ lÃªn (64-bit khuyáº¿n nghá»‹)
- **.NET Framework 4.8** (tá»± Ä‘á»™ng cÃ i khi cÃ i Ä‘áº·t á»©ng dá»¥ng)
- **SQL Server LocalDB** hoáº·c **SQL Server Express/Standard**
- **Visual Studio 2022** (Ä‘á»ƒ phÃ¡t triá»ƒn)

### Pháº§n Cá»©ng
- RAM: Tá»‘i thiá»ƒu 2GB (4GB khuyáº¿n nghá»‹)
- á»” cá»©ng: 500MB dung lÆ°á»£ng trá»‘ng
- MÃ n hÃ¬nh: Äá»™ phÃ¢n giáº£i tá»‘i thiá»ƒu 1024x768

## ğŸš€ CÃ i Äáº·t & Cháº¡y

### 1. Clone Repository
```bash
git clone <repository-url>
cd LTWIN
```

### 2. CÃ i Äáº·t Database

1. Má»Ÿ **SQL Server Management Studio** (SSMS)
2. Káº¿t ná»‘i Ä‘áº¿n SQL Server instance:
   - LocalDB: `(localdb)\MSSQLLocalDB`
   - Hoáº·c SQL Server: `localhost\SQLEXPRESS` (hoáº·c tÃªn server cá»§a báº¡n)
3. Cháº¡y script `QuanLyThuVienC#.sql` Ä‘á»ƒ táº¡o database `QLTV`

### 3. Cáº¥u HÃ¬nh Connection String

Má»Ÿ file `QuanLyThuVienApp/QuanLyThuVienApp/App.config` vÃ  cáº­p nháº­t connection string:

```xml
<connectionStrings>
  <add name="QLTVEntities" 
       connectionString="metadata=res://*/EntityModel.csdl|res://*/EntityModel.ssdl|res://*/EntityModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=(localdb)\MSSQLLocalDB;initial catalog=QLTV;integrated security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;" 
       providerName="System.Data.EntityClient" />
</connectionStrings>
```

**LÆ°u Ã½**: Thay `(localdb)\MSSQLLocalDB` báº±ng tÃªn server SQL Server cá»§a báº¡n náº¿u khÃ´ng dÃ¹ng LocalDB.

### 4. Cáº¥u HÃ¬nh Email (OTP)

Má»Ÿ file `QuanLyThuVienApp/QuanLyThuVienApp/GuiEmail.cs` vÃ  cáº­p nháº­t:

```csharp
private static string taiKhoan = "your-email@gmail.com";
private static string matKhau = "your-app-password"; // App Password, khÃ´ng pháº£i máº­t kháº©u Ä‘Äƒng nháº­p
```

**HÆ°á»›ng dáº«n táº¡o App Password Gmail**:
1. VÃ o [Google Account Settings](https://myaccount.google.com/)
2. Báº­t **2-Step Verification**
3. Táº¡o **App Password** táº¡i [App Passwords](https://myaccount.google.com/apppasswords)
4. Copy App Password vÃ  dÃ¡n vÃ o `matKhau`

### 5. Build & Cháº¡y

1. Má»Ÿ `QuanLyThuVienApp.sln` trong **Visual Studio 2022**
2. Restore NuGet packages:
   - Click pháº£i vÃ o Solution â†’ **Restore NuGet Packages**
   - Hoáº·c: `Tools` â†’ `NuGet Package Manager` â†’ `Package Manager Console` â†’ `Update-Package -reinstall`
3. Build Solution: `Ctrl + Shift + B`
4. Cháº¡y á»©ng dá»¥ng: `F5`

### 6. Táº¡o TÃ i Khoáº£n Admin Äáº§u TiÃªn

- ÄÄƒng kÃ½ tÃ i khoáº£n má»›i qua form Ä‘Äƒng kÃ½
- XÃ¡c thá»±c OTP qua email
- Sau khi Ä‘Äƒng nháº­p, vÃ o **PhÃ¢n quyá»n** Ä‘á»ƒ chuyá»ƒn tÃ i khoáº£n thÃ nh Admin

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
LTWIN/
â”œâ”€â”€ QuanLyThuVienApp/
â”‚   â”œâ”€â”€ QuanLyThuVienApp/
â”‚   â”‚   â”œâ”€â”€ Program.cs                 # Entry point
â”‚   â”‚   â”œâ”€â”€ GuiEmail.cs                 # Gá»­i email OTP
â”‚   â”‚   â”œâ”€â”€ EntityModel.edmx            # Entity Framework model
â”‚   â”‚   â”œâ”€â”€ EntityModel.Context.cs      # DataContext (QLTVEntities)
â”‚   â”‚   â”œâ”€â”€ frm*.cs                     # 31 form giao diá»‡n
â”‚   â”‚   â”œâ”€â”€ Sach.cs, NguoiDung.cs, ...  # Entity classes
â”‚   â”‚   â”œâ”€â”€ rp*.rdlc                    # Report definitions
â”‚   â”‚   â”œâ”€â”€ App.config                  # Connection string
â”‚   â”‚   â””â”€â”€ Properties/                 # Resources, settings
â”‚   â””â”€â”€ QuanLyThuVienApp.sln           # Solution file
â”œâ”€â”€ QuanLyThuVienC#.sql                # Database script
â””â”€â”€ README.md                          # File nÃ y
```

### CÃ¡c Form ChÃ­nh

| Form | Chá»©c NÄƒng |
|------|-----------|
| `frmDangNhap` | ÄÄƒng nháº­p há»‡ thá»‘ng |
| `frmDangKy` | ÄÄƒng kÃ½ tÃ i khoáº£n má»›i |
| `frmXacThuc` | XÃ¡c thá»±c OTP qua email |
| `frmMainAdmin` | Giao diá»‡n chÃ­nh Admin (MDI) |
| `frmMainUser` | Giao diá»‡n chÃ­nh User (MDI) |
| `frmQuanLySach` | Quáº£n lÃ½ sÃ¡ch (CRUD) |
| `frmQuanLyBanDoc` | Quáº£n lÃ½ báº¡n Ä‘á»c |
| `frmQuanLyPhieuMuon` | Quáº£n lÃ½ phiáº¿u mÆ°á»£n (cho mÆ°á»£n, tráº£ sÃ¡ch) |
| `frmMuonSach` | ÄÄƒng kÃ½ mÆ°á»£n sÃ¡ch (User) |
| `frmLichSuMuon` | Lá»‹ch sá»­ mÆ°á»£n sÃ¡ch (User) |
| `frmReport*` | CÃ¡c bÃ¡o cÃ¡o thá»‘ng kÃª |
| `frmPhanQuyen` | PhÃ¢n quyá»n Admin/User |

## ğŸ’» HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

### Cho Admin

1. **ÄÄƒng nháº­p**: Sá»­ dá»¥ng tÃ i khoáº£n Admin
2. **Quáº£n lÃ½ sÃ¡ch**: 
   - VÃ o **Quáº£n lÃ½ sÃ¡ch** â†’ ThÃªm/Sá»­a/XÃ³a sÃ¡ch
   - TÃ¬m kiáº¿m sÃ¡ch theo nhiá»u tiÃªu chÃ­
3. **Quáº£n lÃ½ báº¡n Ä‘á»c**:
   - VÃ o **Quáº£n lÃ½ báº¡n Ä‘á»c** â†’ Táº¡o tÃ i khoáº£n má»›i
   - Reset máº­t kháº©u, sá»­a thÃ´ng tin
4. **Quáº£n lÃ½ phiáº¿u mÆ°á»£n**:
   - Xem danh sÃ¡ch phiáº¿u Ä‘Äƒng kÃ½ â†’ **Cho mÆ°á»£n**
   - Xem danh sÃ¡ch phiáº¿u Ä‘ang mÆ°á»£n â†’ **Tráº£ sÃ¡ch** hoáº·c **Gia háº¡n**
5. **BÃ¡o cÃ¡o**: Xem cÃ¡c bÃ¡o cÃ¡o thá»‘ng kÃª vÃ  export ra PDF/Excel

### Cho Báº¡n Äá»c (User)

1. **ÄÄƒng nháº­p**: Sá»­ dá»¥ng tÃ i khoáº£n User
2. **Xem sÃ¡ch**: Xem danh sÃ¡ch sÃ¡ch cÃ³ sáºµn
3. **MÆ°á»£n sÃ¡ch**: 
   - VÃ o **MÆ°á»£n sÃ¡ch** â†’ Chá»n sÃ¡ch â†’ ÄÄƒng kÃ½ mÆ°á»£n
   - Tá»‘i Ä‘a 10 cuá»‘n sÃ¡ch
4. **Lá»‹ch sá»­ mÆ°á»£n**: Xem lá»‹ch sá»­ mÆ°á»£n sÃ¡ch vÃ  tráº¡ng thÃ¡i
5. **Há»§y phiáº¿u**: Há»§y phiáº¿u Ä‘Äƒng kÃ½ náº¿u chÆ°a Ä‘Æ°á»£c xÃ¡c nháº­n

## ğŸ—„ï¸ Cáº¥u TrÃºc Database

Há»‡ thá»‘ng sá»­ dá»¥ng **7 báº£ng chÃ­nh**:

1. **NguoiDung** - NgÆ°á»i dÃ¹ng/Báº¡n Ä‘á»c (cáº£ Admin vÃ  User)
2. **Sach** - SÃ¡ch
3. **TacGia** - TÃ¡c giáº£
4. **TheLoai** - Thá»ƒ loáº¡i
5. **NhaXuatBan** - NhÃ  xuáº¥t báº£n
6. **PhieuMuon** - Phiáº¿u mÆ°á»£n
7. **ChiTietPhieuMuon** - Chi tiáº¿t phiáº¿u mÆ°á»£n

**Quan há»‡**:
- `NguoiDung` (1) â†’ (n) `PhieuMuon`
- `PhieuMuon` (1) â†’ (n) `ChiTietPhieuMuon`
- `Sach` (1) â†’ (n) `ChiTietPhieuMuon`
- `TacGia`, `NhaXuatBan`, `TheLoai` (1) â†’ (n) `Sach`

## ğŸ”’ Báº£o Máº­t

- Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng **MD5** (lÆ°u dáº¡ng binary)
- XÃ¡c thá»±c **OTP qua email** (háº¿t háº¡n sau 5 phÃºt)
- PhÃ¢n quyá»n **Admin/User** rÃµ rÃ ng
- KhÃ³a tÃ i khoáº£n khi vi pháº¡m

> **LÆ°u Ã½**: Trong production, nÃªn nÃ¢ng cáº¥p tá»« MD5 sang SHA-256 hoáº·c bcrypt Ä‘á»ƒ tÄƒng cÆ°á»ng báº£o máº­t.

## ğŸ“ Quy TrÃ¬nh MÆ°á»£n/Tráº£ SÃ¡ch

```
1. User Ä‘Äƒng kÃ½ mÆ°á»£n sÃ¡ch (Tráº¡ng thÃ¡i: ÄÄƒng kÃ½)
   â†“
2. Admin xÃ¡c nháº­n cho mÆ°á»£n (Tráº¡ng thÃ¡i: Äang mÆ°á»£n)
   â†“
3. User tráº£ sÃ¡ch (Tráº¡ng thÃ¡i: ÄÃ£ tráº£)
   - TÃ­nh tiá»n pháº¡t náº¿u quÃ¡ háº¡n (1000 VNÄ/ngÃ y)
```

**Quy táº¯c**:
- Thá»i háº¡n mÆ°á»£n: **14 ngÃ y**
- Tá»‘i Ä‘a: **10 cuá»‘n sÃ¡ch/báº¡n Ä‘á»c**
- CÃ³ thá»ƒ **gia háº¡n** thá»i háº¡n mÆ°á»£n

## ğŸ› Xá»­ LÃ½ Lá»—i ThÆ°á»ng Gáº·p

### Lá»—i káº¿t ná»‘i database
- Kiá»ƒm tra SQL Server Ä‘Ã£ cháº¡y chÆ°a
- Kiá»ƒm tra connection string trong `App.config`
- Äáº£m báº£o database `QLTV` Ä‘Ã£ Ä‘Æ°á»£c táº¡o

### Lá»—i gá»­i email OTP
- Kiá»ƒm tra App Password Gmail Ä‘Ã£ Ä‘Ãºng chÆ°a
- Kiá»ƒm tra káº¿t ná»‘i internet
- Kiá»ƒm tra firewall cÃ³ cháº·n port 587 khÃ´ng

### Lá»—i khÃ´ng tÃ¬m tháº¥y DLL
- Restore NuGet packages
- Kiá»ƒm tra `packages.config`

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.

## ğŸ‘¥ ÄÃ³ng GÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! Vui lÃ²ng:
1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

## ğŸ“ LiÃªn Há»‡

- **Email**: thuvienhcmue@gmail.com
- **Repository**: [GitHub Link]

---

**PhÃ¡t triá»ƒn bá»Ÿi**: NhÃ³m sinh viÃªn CÃ´ng nghá»‡ thÃ´ng tin  
**Thá»i gian**: 09/2024 â€“ 11/2024  
**PhiÃªn báº£n**: 1.0.0
